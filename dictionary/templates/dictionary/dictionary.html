{% extends "user/base.html" %}
{% block content %}
<div class="container pt-3">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="{% url 'student_courses' %}">My Courses</a> / 
            </li>
        </ol>
    </nav>
</div>
<div class="container mt-4">
    <div class="row">
        <!-- Left Column - Dictionary Search -->
        <div class="col-12 col-md-8 mb-4">
            <h2 class="mb-4">Dictionary</h2>
            <form method="get" class="mb-3">
                <div class="input-group">
                    <input type="text" name="word" class="form-control" placeholder="Enter a word or sentence" value="{{ query }}" aria-label="Search for a word or sentence">
                    <button type="button" class="btn btn-outline-secondary" onclick="this.form.querySelector('input[name=word]').value=''; this.form.submit();" aria-label="Clear search input">
                        <i class="bi bi-x-lg"></i>
                    </button>
                    <button type="submit" class="btn btn-primary">Search</button>
                </div>
            </form>
            {% if results %}
                <div class="card">
                    <div class="card-body">
                        {% for result in results %}
                            <div class="row mb-2 align-items-start">
                                <div class="col-3">
                                    <h3 class="card-title text-success" style="font-size: 1.25rem;">{{ result.input_word|default:result.db_word }}</h3>
                                </div>
                                <div class="col-9">
                                    <p class="card-text" style="font-size: 1.2rem;">{{ result.meaning }}</p>
                                </div>
                            </div>
                            {% if not forloop.last %}
                                <hr class="my-2">
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            {% elif query %}
                <div class="alert alert-info">No definitions found for "{{ query }}".</div>
            {% endif %}
        </div>
        <!-- Right Column - Info Card -->
        <div class="col-12 col-md-4 mb-4">
            <div class="card">
                <div class="card-header">
                    <h6 class="mb-0">About the Dictionary</h6>
                </div>
                <div class="card-body">
                    <p class="card-text">
                        Look up key terms or sentences from your courses to enhance your learning experience.
                        Enter a word or sentence to view definitions side by side.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
.card-title {
    color: #198754; /* Bootstrap text-success, matching course.html mobile h2 */
    font-size: 1.25rem;
    font-weight: bold;
    margin-bottom: 0;
}
.card-text {
    color: #212529;
    font-size: 1.2rem; /* Slightly smaller than title for hierarchy */
    margin-bottom: 0;
}
.alert-info {
    margin-top: 1rem;
}
@media (max-width: 576px) {
    h2 {
        font-size: 1.2rem;
        color: #198754;
        font-weight: bold;
    }
}
.btn-outline-secondary i {
    font-size: 1rem;
}
.btn-outline-secondary:hover {
    background-color: #4da6feff; /* Matches course.html hover style */
}
</style>
{% endblock %}